# ARCHITECTURE: OpenCV Lane Detection API - Automation QA Demo

## Overview
The project is composed of three main components: 
- FastAPI service that exposes the OpenCV lane detection functionality.
- PyTest + Playwright test suite for automated testing.
- Dockerized CI/CD pipeline for reproducible builds and test runs.

## Components

### 1. FastAPI Service
- Located in `src/api`.
- Endpoints: `/health`, `/version`, `/lanes`.
- Uses `lanes.py` for OpenCV lane detection logic.
- Config handled in `config.py` (env + defaults).
- Optional overlay image generated by `draw.py`.

### 2. Tests
- Located in `tests/`.
- Structured into subfolders: functional, negative, edge, performance.
- Uses PyTest fixtures for `APIRequestContext`.
- Utilities in `tests/utils/` for assertions and schema validation.

### 3. Docker
- `Dockerfile.app` builds the FastAPI app image.
- `Dockerfile.tests` builds a test runner container.
- `docker-compose.yml` runs both services locally.

### 4. CI/CD
- GitHub Actions workflow in `.github/workflows/ci.yml`.
- Pipeline builds app image, starts container, runs tests, and uploads artifacts.
- Allure report publishing planned in a later milestone.



### 5. Test Data Generation
- In addition to static image sets, the test suite uses **Faker** to generate random inputs for fuzz testing.
- Faker is integrated via `tests/utils/fake_data.py` to create random strings, numbers, and URLs.
